{"id":"4fc098ec864941bdbe7eaba5fe47018d","definitionId":"1bafc5cef75c421595901db0131b7d18","name":"HTTP backend API","description":"A simple workflow that handles inbound HTTP requests and invokes a backend API. The response of that API is then sent back to the HTTP response.","createdAt":"2023-09-20T21:19:55.442745+00:00","version":2,"toolVersion":"3.0.0.0","variables":[{"id":"80fe4633185848e3bcdfcdb2ff17e9c3","name":"RouteData","typeName":"Microsoft.AspNetCore.Routing.RouteData, Microsoft.AspNetCore.Routing.Abstractions","isArray":false,"storageDriverTypeName":"Elsa.Workflows.Core.Services.WorkflowStorageDriver, Elsa.Workflows.Core"},{"id":"fb788cc0fb6b4048966a12cbfaf8c590","name":"UserId","typeName":"String","isArray":false,"storageDriverTypeName":"Elsa.Workflows.Core.Services.WorkflowStorageDriver, Elsa.Workflows.Core"},{"id":"c074419f9da546879eab1e1aa188bc6f","name":"UserData","typeName":"Object","isArray":false,"storageDriverTypeName":"Elsa.Workflows.Core.Services.WorkflowStorageDriver, Elsa.Workflows.Core"}],"inputs":[],"outputs":[],"outcomes":[],"customProperties":{},"isReadonly":false,"isLatest":true,"isPublished":true,"options":{"autoUpdateConsumingWorkflows":false},"root":{"type":"Elsa.Flowchart","version":1,"id":"vAUhzcTZLUWswNAOPavLzA","metadata":{},"customProperties":{"source":"FlowchartJsonConverter.cs:46","notFoundConnections":[],"canStartWorkflow":false,"runAsynchronously":false},"activities":[{"path":{"typeName":"String","expression":{"type":"Literal","value":"/users/{userId}"},"memoryReference":{"id":"Syu79_D6R0ejXBu9zR_0Gg:input-0"}},"supportedMethods":{"typeName":"String[]","expression":{"type":"Object","value":"[\u0022GET\u0022]"},"memoryReference":{"id":"Syu79_D6R0ejXBu9zR_0Gg:input-1"}},"authorize":{"typeName":"Boolean","expression":{"type":"Literal","value":"False"},"memoryReference":{"id":"Syu79_D6R0ejXBu9zR_0Gg:input-2"}},"policy":{"typeName":"String","expression":{"type":"Literal"},"memoryReference":{"id":"Syu79_D6R0ejXBu9zR_0Gg:input-3"}},"requestTimeout":null,"requestSizeLimit":null,"fileSizeLimit":null,"allowedFileExtensions":null,"blockedFileExtensions":null,"allowedMimeTypes":null,"parsedContent":null,"files":null,"routeData":{"typeName":"ObjectDictionary","memoryReference":{"id":"80fe4633185848e3bcdfcdb2ff17e9c3"}},"queryStringData":null,"headers":null,"result":null,"id":"Syu79_D6R0ejXBu9zR_0Gg","name":"HttpEndpoint1","type":"Elsa.HttpEndpoint","version":1,"customProperties":{"canStartWorkflow":true,"runAsynchronously":false},"metadata":{"designer":{"position":{"x":-500,"y":-226},"size":{"width":180.28125,"height":81.90625}},"showDescription":true,"description":"GET /users/{userId}"}},{"expectedStatusCodes":{"typeName":"Int32[]","expression":{"type":"Object","value":"[\u0022200\u0022,\u0022404\u0022]"},"memoryReference":{"id":"VJgkxfCjMEuhaLi72zRxJw:input-0"}},"url":{"typeName":"System.Uri, System.Private.Uri","expression":{"type":"JavaScript","value":"\u0060https://reqres.in/api/users/${getUserId()}\u0060"},"memoryReference":{"id":"VJgkxfCjMEuhaLi72zRxJw:input-1"}},"method":{"typeName":"String","expression":{"type":"Literal","value":"GET"},"memoryReference":{"id":"VJgkxfCjMEuhaLi72zRxJw:input-2"}},"content":null,"contentType":{"typeName":"String","expression":{"type":"Literal","value":""},"memoryReference":{"id":"VJgkxfCjMEuhaLi72zRxJw:input-4"}},"authorization":null,"requestHeaders":{"typeName":"Elsa.Http.Models.HttpRequestHeaders, Elsa.Http","expression":{"type":"Literal","value":"{}"},"memoryReference":{"id":"VJgkxfCjMEuhaLi72zRxJw:input-6"}},"parsedContent":{"typeName":"Object","memoryReference":{"id":"c074419f9da546879eab1e1aa188bc6f"}},"result":null,"id":"VJgkxfCjMEuhaLi72zRxJw","name":"FlowSendHttpRequest1","type":"Elsa.FlowSendHttpRequest","version":1,"customProperties":{"canStartWorkflow":false,"runAsynchronously":false},"metadata":{"designer":{"position":{"x":162.578125,"y":-226},"size":{"width":276.609375,"height":81.90625}},"showDescription":true,"displayText":"Fetch user from backend API"}},{"statusCode":{"typeName":"System.Net.HttpStatusCode, System.Net.Primitives","expression":{"type":"Literal","value":"OK"},"memoryReference":{"id":"EPNT_N1zq0GNnHTEBZrakw:input-0"}},"content":{"typeName":"Object","expression":{"type":"JavaScript","value":"const user = getUserData().data;\nreturn user;"},"memoryReference":{"id":"EPNT_N1zq0GNnHTEBZrakw:input-1"}},"contentType":{"typeName":"String","expression":{"type":"Literal","value":"application/json"},"memoryReference":{"id":"EPNT_N1zq0GNnHTEBZrakw:input-2"}},"responseHeaders":{"typeName":"Elsa.Http.Models.HttpResponseHeaders, Elsa.Http","expression":{"type":"Literal","value":"{}"},"memoryReference":{"id":"EPNT_N1zq0GNnHTEBZrakw:input-3"}},"id":"EPNT_N1zq0GNnHTEBZrakw","name":"WriteHttpResponse1","type":"Elsa.WriteHttpResponse","version":1,"customProperties":{"canStartWorkflow":false,"runAsynchronously":false},"metadata":{"designer":{"position":{"x":640,"y":-360},"size":{"width":333.15625,"height":81.90625}},"displayText":"HTTP OK","description":"Write the user data back to the HTTP response","showDescription":true}},{"statusCode":{"typeName":"System.Net.HttpStatusCode, System.Net.Primitives","expression":{"type":"Literal","value":"NotFound"},"memoryReference":{"id":"S9eOV3SCf0mCYk3WW_JMgg:input-0"}},"content":{"typeName":"Object","expression":{"type":"Liquid","value":"{\n    \u0022message\u0022: \u0022User {{ Variables.UserId }} not found\u0022\n}"},"memoryReference":{"id":"S9eOV3SCf0mCYk3WW_JMgg:input-1"}},"contentType":{"typeName":"String","expression":{"type":"Literal","value":"application/json"},"memoryReference":{"id":"S9eOV3SCf0mCYk3WW_JMgg:input-2"}},"responseHeaders":{"typeName":"Elsa.Http.Models.HttpResponseHeaders, Elsa.Http","expression":{"type":"Literal","value":"{}"},"memoryReference":{"id":"S9eOV3SCf0mCYk3WW_JMgg:input-3"}},"id":"S9eOV3SCf0mCYk3WW_JMgg","name":"WriteHttpResponse2","type":"Elsa.WriteHttpResponse","version":1,"customProperties":{"canStartWorkflow":false,"runAsynchronously":false},"metadata":{"designer":{"position":{"x":640,"y":-125},"size":{"width":302.546875,"height":81.90625}},"displayText":"HTTP Not Found","description":"Send a 404 status code back to the client","showDescription":true}},{"variable":{"id":"fb788cc0fb6b4048966a12cbfaf8c590","name":"UserId","typeName":"String","storageDriverTypeName":"Elsa.Workflows.Core.Services.WorkflowStorageDriver, Elsa.Workflows.Core"},"value":{"typeName":"Object","expression":{"type":"JavaScript","value":"getRouteData()[\u0022userid\u0022]"},"memoryReference":{"id":"LfTEB_s7CUG8pNyHpOKR-w:input-0"}},"id":"LfTEB_s7CUG8pNyHpOKR-w","name":"SetVariable1","type":"Elsa.SetVariable","version":1,"customProperties":{"canStartWorkflow":false,"runAsynchronously":false},"metadata":{"designer":{"position":{"x":-209.328125,"y":-226},"size":{"width":237.15625,"height":81.90625}},"displayText":"Set User ID","description":"Read the \u0022userId\u0022 route param","showDescription":true}}],"connections":[{"source":{"activity":"Syu79_D6R0ejXBu9zR_0Gg","port":"Done"},"target":{"activity":"LfTEB_s7CUG8pNyHpOKR-w","port":"In"}},{"source":{"activity":"LfTEB_s7CUG8pNyHpOKR-w","port":"Done"},"target":{"activity":"VJgkxfCjMEuhaLi72zRxJw","port":"In"}},{"source":{"activity":"VJgkxfCjMEuhaLi72zRxJw","port":"200"},"target":{"activity":"EPNT_N1zq0GNnHTEBZrakw","port":"In"}},{"source":{"activity":"VJgkxfCjMEuhaLi72zRxJw","port":"404"},"target":{"activity":"S9eOV3SCf0mCYk3WW_JMgg","port":"In"}}]}}